i = 5
i = "005"
which(Bale_tubeDB$plot == paste0("BALE", i))[[1]]
length(which(Bale_tubeDB$plot == paste0("BALE", i)))
tail(which(Bale_tubeDB$plot == paste0("BALE", i)))
tail(which(Bale_tubeDB$plot == paste0("BALE", i)), n=1)
for (i in v){
x <- data.frame(Bale_tubeDB[c(which(Bale_tubeDB$plot == paste0("BALE", i))[[1]]:tail(which(Bale_tubeDB$plot == paste0("BALE", i))), n = 1), ])
write.csv(x, paste0(Output, "BALE", i, ".csv"))
}
tail(which(Bale_tubeDB$plot == paste0("BALE", i)), n = 1)
for (i in v){
x <- data.frame(Bale_tubeDB[c(which(Bale_tubeDB$plot == paste0("BALE", i))[[1]]:tail(which(Bale_tubeDB$plot == paste0("BALE", i)), n = 1)), ])
write.csv(x, paste0(Output, "BALE", i, ".csv"))
}
?aggregate
devtools::load_all()
### Initiate Climodr ###
climodr::hubs("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Input/",
"C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Output/")
climodr::envi.create("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/")
proc.csv(method = "all", safe_output = TRUE)
csv_list <- list();
all_files_in_distribution <- list.files(path = Input, recursive = T); #reads all data in Input-Folder
csv_paths <- grep(".csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
for (i in number_of_csvs){
x <- read.csv(file.path(Input, "csv_", i, "no_NAs.csv"))
cn_x <- colnames(x)
number_of_cn <- length(cn_x)
for (j in number_of_cn){
paste0("mm_", cn_x[j]) <- aggregate(cn_x[j] ~ month + year, x, mean)
colnames(paste0("mm_", cn_x[j])) <- c("month","year",paste0("monthly_mean_", cn_x[j]))
paste0("mm_", cn_x[j])$plot <- x[[1]]
}
i=1
csv_data <- read.csv(paste0(Input, csv_paths[[i]]))
cn_data <- colnames(csv_data)
number_of_cn <- length(cn_data)
csv_data$daymonth <- strftime(csv_data[,2], format = "%m-%d")
csv_data[,2]
csv_data <- read.csv(paste0(Input, csv_paths[[i]]))
cn_data <- colnames(csv_data)
number_of_cn <- length(cn_data)
csv_data$daymonth <- strftime(csv_data[,2], format = "%m-%d")
cn_data
csv_data <- read.csv(paste0(Input, csv_paths[[i]]), sep = ",")
### Initiate Climodr ###
climodr::hubs("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Input/",
"C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Output/")
climodr::envi.create("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/")
csv_list <- list();
all_files_in_distribution <- list.files(path = Input, recursive = T); #reads all data in Input-Folder
csv_paths <- grep(".csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
csv_data <- read.csv(paste0(Input, csv_paths[[i]]), sep = ",")
i=1
csv_data <- read.csv(paste0(Input, csv_paths[[i]]), sep = ",")
read.csv()
?read.csv
Bale_tubeDB <- read.csv(paste0(Input, "plots_tubeDB.csv"))
v <- c("001", "002", "003", "004", "005", "006", "007", "008", "009", "010")
for (i in v){
x <- data.frame(Bale_tubeDB[c(which(Bale_tubeDB$plot == paste0("BALE", i))[[1]]:tail(which(Bale_tubeDB$plot == paste0("BALE", i)), n = 1)), ])
write.csv(x, paste0(Output, "BALE", i, ".csv"))
}
csv_list <- list();
all_files_in_distribution <- list.files(path = Input, recursive = T); #reads all data in Input-Folder
csv_paths <- grep(".csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
i = 1
csv_data <- read.csv(paste0(Input, csv_paths[[i]]), sep = ",")
View(csv_data)
?write.csv
v <- c("001", "002", "003", "004", "005", "006", "007", "008", "009", "010")
for (i in v){
x <- data.frame(Bale_tubeDB[c(which(Bale_tubeDB$plot == paste0("BALE", i))[[1]]:tail(which(Bale_tubeDB$plot == paste0("BALE", i)), n = 1)), ])
write.csv(x, paste0(Output, "BALE", i, ".csv"), row.names = FALSE)
}
csv_list <- list();
all_files_in_distribution <- list.files(path = Input, recursive = T); #reads all data in Input-Folder
csv_paths <- grep(".csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
i = 1
csv_data <- read.csv(paste0(Input, csv_paths[[i]]), sep = ",")
cn_data <- colnames(csv_data)
number_of_cn <- length(cn_data)
csv_data$daymonth <- strftime(csv_data[,2], format = "%m-%d")
devtools::load_all()
proc.csv(method = "all", safe_output = TRUE)
csv_data$year<- strftime(csv_data[,2], format = "%y")
csv_data$month <- strftime(csv_data[,2], format = "%m")
csv_data$day <- strftime(csv_data[,2], format = "%d")
csv_data <- csv_data[, c(cn_data[1:2], "daymonth", "year", "month", "day", cn_data[3:number_of_cn])]
cn_data <- colnames(csv_data)
number_of_cn <- length(cn_data)
for (j in 7:number_of_cn){
csv_data <- transform(csv_data, temp_col = ave(csv_data[,j], daymonth, FUN = function(x) mean(x, na.rm = TRUE)))
csv_data[,j] <- ifelse(is.na(csv_data[,j]), csv_data$temp_col, csv_data[,j])
csv_data$temp_col <- NULL
}
csv_data$daymonth <- NULL
if (safe_output == TRUE){
write_csv(csv_data, file.path(Output, csv_paths[[i]], "_no_NAs.csv"))
}
safe_output=TRUE
if (safe_output == TRUE){
write_csv(csv_data, file.path(Output, csv_paths[[i]], "_no_NAs.csv"))
}
paste0(Output, csv_paths[[i]], "_no_NAs.csv")
csv_data[[1]]
csv_data[[1,1]]
if (safe_output == TRUE){
write_csv(csv_data, paste0(Output, csv_data[[1]], "_no_NAs.csv"))
}
write_csv(csv_data, paste0(Output, csv_data[[1]], "_no_NAs.csv"))
paste0(Output, csv_data[[1]], "_no_NAs")
if (safe_output == TRUE){
write_csv(csv_data, paste0(Output, csv_data[[1,1]], "_no_NAs"))
}
for (i in 1:number_of_csvs){
csv_data <- read.csv(paste0(Input, csv_paths[[i]]), sep = ",")
cn_data <- colnames(csv_data)
number_of_cn <- length(cn_data)
csv_data$daymonth <- strftime(csv_data[,2], format = "%m-%d")
csv_data$year<- strftime(csv_data[,2], format = "%y")
csv_data$month <- strftime(csv_data[,2], format = "%m")
csv_data$day <- strftime(csv_data[,2], format = "%d")
csv_data <- csv_data[, c(cn_data[1:2], "daymonth", "year", "month", "day", cn_data[3:number_of_cn])]
cn_data <- colnames(csv_data)
number_of_cn <- length(cn_data)
for (j in 7:number_of_cn){
csv_data <- transform(csv_data, temp_col = ave(csv_data[,j], daymonth, FUN = function(x) mean(x, na.rm = TRUE)))
csv_data[,j] <- ifelse(is.na(csv_data[,j]), csv_data$temp_col, csv_data[,j])
csv_data$temp_col <- NULL
}
csv_data$daymonth <- NULL
if (safe_output == TRUE){
write_csv(csv_data, paste0(Output, csv_data[[1,1]], "_no_NAs"))
}
else {
write_csv(csv_data, file.path(envrmt$path_data, paste0("csv_", i, "_no_NAs.csv")))
}
};
devtools::load_all()
### Initiate Climodr ###
climodr::hubs("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Input/",
"C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Output/")
climodr::envi.create("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/")
proc.csv(method = "all", safe_output = TRUE)
prep.csv(method = "all", safe_output = TRUE)
devtools::load_all()
prep.csv(method = "all", safe_output = TRUE)
?write_csv
devtools::load_all()
prep.csv(method = "all", safe_output = TRUE)
devtools::load_all()
prep.csv(method = "all", safe_output = TRUE)
devtools::load_all()
### Initiate Climodr ###
climodr::hubs("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Input/",
"C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Output/")
climodr::envi.create("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/")
prep.csv(method = "all", safe_output = TRUE)
file.path(envrmt$path_data, paste0("csv_", i, "_no_NAs.csv"))
i = 1
file.path(envrmt$path_data, paste0("csv_", i, "_no_NAs.csv"))
envrmt$path_data
View(envrmt)
file.path(envrmt$path_tmp, paste0("csv_", i, "_no_NAs.csv"))
devtools::load_all()
### Initiate Climodr ###
climodr::hubs("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Input/",
"C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Output/")
climodr::envi.create("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/")
prep.csv(method = "all", safe_output = TRUE)
csv_list <- list();
all_files_in_distribution <- list.files(path = Input, recursive = T); #reads all data in Input-Folder
csv_paths <- grep(".csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
csv_list <- list();
all_files_in_distribution <- list.files(path = envrmt$path_tmp, recursive = T); #reads all data in Input-Folder
csv_paths <- grep(".csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
x <- read.csv(csv_paths[i])
x <- read.csv(file.path(envrmt$path_tmp, csv_paths[i]))
View(x)
cn_x <- colnames(x)
number_of_cn <- length(cn_x)
for (j in number_of_cn){
paste0("mm_", cn_x[j]) <- aggregate(cn_x[j] ~ month + year, x, mean)
colnames(paste0("mm_", cn_x[j])) <- c("month","year",paste0("monthly_mean_", cn_x[j]))
paste0("mm_", cn_x[j])$plot <- x[[1,1]]
paste0("mm_", cn_x[j]) <- monthly_mean_Ta_200_BALE001_tubeDB[,c("plot","year","month","monthly_mean_Ta_200")]
}
View(x)
j=1
paste0("mm_", cn_x[j]) <- aggregate(cn_x[j] ~ month + year, x, mean)
?aggregate
View(x)
paste0("mm_", cn_x[j]) <- aggregate(Ta_200 ~ month + year, x, mean)
mm_1 <- aggregate(Ta_200 ~ month + year, x, mean)
paste0("mm_", cn_x[j])
j = 5
paste0("mm_", cn_x[j])
j=6
paste0("mm_", cn_x[j])
View(mm_1)
mm <- df()
y <- aggregate(cn_x[j] ~ month + year, x, mean)
csv_list <- list();
all_files_in_distribution <- list.files(path = envrmt$path_tmp, recursive = T); #reads all data in Input-Folder
csv_paths <- grep(".csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
x <- read.csv(file.path(envrmt$path_tmp, csv_paths[i]))
devtools::load_all()
### Initiate Climodr ###
climodr::hubs("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Input/",
"C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Output/")
climodr::envi.create("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/")
x <- climodr::crop.all(method = "Input", safe_output = TRUE)
climodr::prep.csv(method = "all", safe_output = TRUE)
csv_list <- list();
all_files_in_distribution <- list.files(path = Input, recursive = T); #reads all data in Input-Folder
csv_paths <- grep(".csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
i=1
j=i
csv_data <- read.csv(paste0(Input, csv_paths[[i]]), sep = ",")
cn_data <- colnames(csv_data)
number_of_cn <- length(cn_data)
csv_data$daymonth <- strftime(csv_data[,2], format = "%m-%d")
csv_data$year<- strftime(csv_data[,2], format = "%y")
csv_data$month <- strftime(csv_data[,2], format = "%m")
csv_data$day <- strftime(csv_data[,2], format = "%d")
csv_data <- csv_data[, c(cn_data[1:2], "daymonth", "year", "month", "day", cn_data[3:number_of_cn])]
cn_data <- colnames(csv_data)
number_of_cn <- length(cn_data)
### Initiate Climodr ###
climodr::hubs("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Input/",
"C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Output/")
climodr::envi.create("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/")
x <- climodr::crop.all(method = "Input", safe_output = TRUE)
i=1
j=1
csv_list <- list();
all_files_in_distribution <- list.files(path = envrmt$path_tmp, recursive = T); #reads all data in Input-Folder
csv_paths <- grep(".csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
x <- read.csv(file.path(envrmt$path_tmp, csv_paths[i]))
cn_x <- colnames(x)
number_of_cn <- length(cn_x)
y <- aggregate(cn_x[j] ~ month + year, x, mean)
cn_x[j]
cn_x
number_of_cn
j=6
y <- aggregate(cn_x[j] ~ month + year, x, mean)
cn_x[j]
noquote(cn_x[j])
y <- aggregate(noquote(cn_x[j]) ~ month + year, x, mean)
noquote(cn_x[j]) ~ month + year
aggregate(noquote(cn_x[j]) ~ month + year, x, mean)
y <- terra::aggregate(noquote(cn_x[j]) ~ month + year, x, mean)
y <- sp::aggregate(noquote(cn_x[j]) ~ month + year, x, mean)
y <- sf::aggregate(noquote(cn_x[j]) ~ month + year, x, mean)
y <- aggregate(Ta_200 ~ month + year, x, mean)
x[j]
y <- aggregate(x[j] ~ month + year, x, mean)
fo <- as.formula(paste(cn_x[j], " ~ month + year"))
fo
y <- aggregate(fo, x, mean)
paste0("monthly_mean_", cn_x[j])
colnames(y) <- c("month","year",paste0("monthly_mean_", cn_x[j]))
y$plot <- x[[1,1]]
y <- y[,c("plot","year","month",paste0("monthly_mean_", cn_x[j]))]
paste("mm_",cn_x[j])
paste0("mm_",cn_x[j])
assign(paste0("mm_",cn_x[j]), aggregate(fo, x, mean))
colnames(paste0("mm_",cn_x[j])) <- c("month","year",paste0("monthly_mean_", cn_x[j]))
colnames(assign(paste0("mm_",cn_x[j])),c("month","year",paste0("monthly_mean_", cn_x[j])))
colnames(assign(paste0("mm_",cn_x[j]),c("month","year",paste0("monthly_mean_", cn_x[j]))))
assign(paste0("mm_",cn_x[j]), colnames(paste0("mm_",cn_x[j])) = c("month","year",paste0("monthly_mean_", cn_x[j])))
mm <- lapply(6:number_of_cn, function (y){
fo <- as.formula(paste(cn_x[y], " ~ month + year"))
y <- aggregate(fo, x, mean)
colnames(y) <- c("month","year",paste0("monthly_mean_", cn_x[y]))
y$plot <- x[[1,1]]
y <- y[,c("plot","year","month",paste0("monthly_mean_", cn_x[y]))]
})
x
x[,1]
x[1]
mm[paste0("mm_", cn_x[j]]
mm[paste0("mm_", cn_x[j])]
print(mm[paste0("mm_", cn_x[j])])
mm[paste0("mm_", cn_x[j])]
y
mm <- y
j=7
fo <- as.formula(paste(cn_x[j], " ~ month + year"))
y <- aggregate(fo, x, mean)
colnames(y) <- c("month","year",paste0("monthly_mean_", cn_x[j]))
y$plot <- x[[1,1]]
y <- y[,c("plot","year","month",paste0("monthly_mean_", cn_x[j]))]
mm <- cbind(mm, y)
j=6
fo <- as.formula(paste(cn_x[j], " ~ month + year"))
y <- aggregate(fo, x, mean)
colnames(y) <- c("month","year",paste0("monthly_mean_", cn_x[j]))
y$plot <- x[[1,1]]
y <- y[,c("plot","year","month",paste0("monthly_mean_", cn_x[j]))]
mm <- y
j=7
fo <- as.formula(paste(cn_x[j], " ~ month + year"))
y <- aggregate(fo, x, mean)
colnames(y) <- c("month","year",paste0("monthly_mean_", cn_x[j]))
y$plot <- x[[1,1]]
y <- y[,c("plot","year","month",paste0("monthly_mean_", cn_x[j]))]
mm <- cbind(mm, y[4])
View(mm)
!exists(mm)
exists(mm)
!exists("mm")
mm[[1,1]]
devtools::load_all()
climodr::proc.csv(method = "proc", safe_output = TRUE)
climodr::proc.csv(method = "all", safe_output = TRUE)
devtools::load_all()
### Initiate Climodr ###
climodr::hubs("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Input/",
"C:/Users/Alexander/Documents/Uni/HiWi/Test/data/Output/")
climodr::envi.create("C:/Users/Alexander/Documents/Uni/HiWi/Test/data/")
climodr::prep.csv(method = "proc", safe_output = TRUE)
climodr::proc.csv(method = "all", safe_output = TRUE)
devtools::load_all()
climodr::proc.csv(method = "all", safe_output = TRUE)
devtools::load_all()
climodr::proc.csv(method = "all", safe_output = TRUE)
devtools::load_all()
climodr::proc.csv(method = "all", safe_output = TRUE)
devtools::load_all()
rlang::last_error()
devtools::load_all()
rlang::last_error()
devtools::load_all()
climodr::proc.csv(method = "all",
rbind = TRUE,
safe_output = TRUE
)
x <- read.csv(file.path(envrmt$path_tmp, paste0("csv_mm.csv")))
x[1]
unique(x[1])
lenght(unique(x[1]))
length(unique(x[1]))
count(unique(x[1]))
as.vector(unlist(unique(x[1])))
lenght(as.vector(unlist(unique(x[1]))))
length(as.vector(unlist(unique(x[1]))))
x <- NULL
des[1, 4:6]
des <- read.csv(paste0(Input, "plot_description.csv"));
des[1, 4:6]
data$lat <- "";
data$lon <- "";
data$elevation <- "";
data <- read.csv(file.path(envrmt$path_tmp, paste0("csv_mm.csv")));
number_of_stations <- length(as.vector(unlist(unique(data[1]))));
data$lat <- "";
data$lon <- "";
data$elevation <- "";
View(des)
data$lat[which(data$plot == "BALE001")]
names_of_stations <- as.vector(unlist(unique(data[1])))
des$lat[which(data$plot == names_of_stations[i])]
i=1
des$lat[which(data$plot == names_of_stations[i])]
des$lat[which(des$plot == names_of_stations[i])]
des$lat[which(des$plot == names_of_stations[i]%)]
des$plot == grepl(names_of_stations[i])
grepl(names_of_stations[i], des$plot)
des$lat[which(grepl(names_of_stations[i], des$plot))]
for (i in 1:number_of_stations){
data$lat[which(data$plot == names_of_stations[i])] <- des$lat[which(grepl(names_of_stations[i], des$plot))]
data$lon[which(data$plot == "BALE001")] <- des$lon[which(grepl(names_of_stations[i], des$plot))]
data$elevation[which(data$plot == "BALE001")] <- des$elevation[which(grepl(names_of_stations[i], des$plot))]
}
View(data)
for (i in 1:number_of_stations){
data$lat[which(data$plot == names_of_stations[i])] <- des$lat[which(grepl(names_of_stations[i], des$plot))]
data$lon[which(data$plot == names_of_stations[i])] <- des$lon[which(grepl(names_of_stations[i], des$plot))]
data$elevation[which(data$plot == names_of_stations[i])] <- des$elevation[which(grepl(names_of_stations[i], des$plot))]
}
View(data)
data$day <- 1
data$datetime <-as.Date(with(data,paste(year,month,day,sep="-")),"%y-%m-%d")
View(data)
cn_data <- colnames(data)
data <- read.csv(file.path(envrmt$path_tmp, paste0("csv_mm.csv")));
cn_data <- colnames(data)
names_of_stations <- as.vector(unlist(unique(data[1])))
number_of_stations <- length(names_of_stations);
des <- read.csv(paste0(Input, "plot_description.csv"));
data$lat <- "";
data$lon <- "";
data$elevation <- "";
for (i in 1:number_of_stations){
data$lat[which(data$plot == names_of_stations[i])] <- des$lat[which(grepl(names_of_stations[i], des$plot))]
data$lon[which(data$plot == names_of_stations[i])] <- des$lon[which(grepl(names_of_stations[i], des$plot))]
data$elevation[which(data$plot == names_of_stations[i])] <- des$elevation[which(grepl(names_of_stations[i], des$plot))]
}
data$day <- 1
data$datetime <-as.Date(with(data,paste(year,month,day,sep="-")),"%y-%m-%d")
data <- data[,c(cn_data[1],
"datetime",
cn_data[2:3],
"day",
cn_data[4:length(cn_data)],
"lat",
"lon",
"elevation"
)]
data <- data[,c(cn_data[1],
"datetime",
cn_data[2:3],
"day",
cn_data[4:length(cn_data)],
"lat",
"lon",
"elevation"
)]
data[cn_data[4]:cn_data[length(cn_data)]]
cn_data[4]
nrwo(cn_data[4])
nrow(cn_data[4])
data(nrow(cn_data[4]))
View(data)
length(cn_data)
length(cn_data) + 2
data_r <- lapply(data[6:(length(cn_data) + 2)], function(x){
round(x, digits = 3)
})
View(data_r)
6:(2 + length(cn_data))
for (i in 6:(2 + length(cn_data))){
data[i] <- round(data[i], digits = 3)
}
View(data)
mms <- 6:(2 + length(cn_data))
names(data[mms])
names(data[mms])  <- gsub("monthly_mean_", "")
gsub("monthly_mean_", "", names(data[mms]))
names(data[mms])  <- gsub("monthly_mean_", "", names(data[mms]))
View(data)
c1 <- gsub("monthly_mean_", "", names(data[mms]))
names(data[mms])  <- c1
View(data)
colnames(data[mms])  <- c1
View(data)
c(names(data[1:5]), gsub("monthly_mean_", "", names(data[mms])), names(data[(3 + length(cn_data))]:lenght(names(data))))
c(names(data[1:5]), gsub("monthly_mean_", "", names(data[mms])), names(data[(3 + length(cn_data))]:length(names(data))))
c(names(data[1:5]), gsub("monthly_mean_", "", names(data[mms])), names(data[(3 + length(cn_data)):length(names(data))]))
names(data)
names(data)  <- c(names(data[1:5]), gsub("monthly_mean_", "", names(data[mms])), names(data[(3 + length(cn_data)):length(names(data))]))
View(data)
climodr::spat.csv(safe_output = TRUE)
devtools::load_all()
climodr::spat.csv(safe_output = TRUE)
csv_list <- list()
all_files_in_distribution <- list.files(path = envrmt$path_tmp, recursive = T)
csv_paths <- grep("_no_NAs.csv$", all_files_in_distribution, value=TRUE);
number_of_csvs <- length(csv_paths);
method = "daily"
if (method == "daily"){
csv_list <- list()
all_files_in_distribution <- list.files(path = envrmt$path_tmp, recursive = T)
csv_paths <- grep("_no_NAs.csv$", all_files_in_distribution, value=TRUE)
number_of_csvs <- length(csv_paths)
for (i in 1:number_of_csvs){
x <- read.csv(file.path(envrmt$path_tmp, csv_paths[i]))
x <- data.frame(x)
if (i == 1) {
data <- x
} else {
data <- rbind(data, x)
}
cn_data <- colnames(data)
names_of_stations <- as.vector(unlist(unique(data[1])))
number_of_stations <- length(names_of_stations)
};
View(data)
des <- read.csv(paste0(Input, "plot_description.csv"));
data$lat <- "";
data$lon <- "";
data$elevation <- "";
for (i in 1:number_of_stations){
data$lat[which(data$plot == names_of_stations[i])] <- des$lat[which(grepl(names_of_stations[i], des$plot))]
data$lon[which(data$plot == names_of_stations[i])] <- des$lon[which(grepl(names_of_stations[i], des$plot))]
data$elevation[which(data$plot == names_of_stations[i])] <- des$elevation[which(grepl(names_of_stations[i], des$plot))]
};
View(data)
cn_data
if (method == "daily") {
for (i in 6:length(cn_data)){
data[i] <- round(data[i], digits = 3)
};
}
View(data)
devtools::load_all()
climodr::spat.csv(method = "daily",
safe_output = TRUE
)
